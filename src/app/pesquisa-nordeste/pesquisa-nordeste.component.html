<div class="main">
    <div class="title">
        <div>
          <div id="logoavon"></div>
        </div>
        <h1>Pesquisa - {{title}}</h1>
        <div class="menu">
            <h4><mat-icon class="color" matSuffix>account_circle</mat-icon> {{user}} </h4>
            <button
                routerLink="/home"
                class="logout"
                color="accent"
                mat-button ><mat-icon>arrow_back</mat-icon>Voltar</button>
        </div>
    </div>
    <p class="space"> </p>

    <form [formGroup]="formularioPesquisaNordeste" class="example-form">
        <div class="pesquisar">
            <div class="search">
                <mat-form-field class="codigoCn" appearance="fill" color="accent">
                    <mat-label>Código da CN</mat-label>
                    <input
                    matInput
                    placeholder="Digite o Código da CN"
                    ngDefaultControl
                    maxlength="20"
                    formControlName="codigo_cn"
                    [(ngModel)]="codigo_cn"
                    >
                    <mat-icon matSuffix>account_circle</mat-icon>
                    <mat-hint>Código da Consultora</mat-hint>
                </mat-form-field>
            </div>
            <div class="botoes">

                <button
                class="validar"
                mat-raised-button
                (click)="limpar()"
                color="warn"
                aria-label="Example icon button with a home icon">
                    <mat-icon>clear</mat-icon> Limpar
                </button>

                <button
                class="validar"
                mat-raised-button
                (click)="carregar()"
                color="accent"
                aria-label="Example icon button with a home icon">
                    <mat-icon>search</mat-icon> Pesquisar
                </button>
            </div>
        </div>
  </form>

  <div *ngIf="!clickedRows.size">
    <div class="card">
      <mat-card class="card-width">
        <mat-card-content>
          <p class="title-card">Nº do Pedido</p>
          <p>Aguardando...</p>
        </mat-card-content>
      </mat-card>
  
      <mat-card class="card-width">
        <mat-card-content>
          <p class="title-card">Nº Nota Fiscal</p>
          <p>Aguardando...</p>
        </mat-card-content>
      </mat-card>
  
      <mat-card class="card-width">
        <mat-card-content>
          <p class="title-card">Código da CN</p>
          <p>Aguardando...</p>
        </mat-card-content>
      </mat-card>
      
      <mat-card class="card-width">
        <mat-card-content>
          <p class="title-card">Nome da CN</p>
          <p>Aguardando...</p>
        </mat-card-content>
      </mat-card>
  
      <mat-card class="card-width">
        <mat-card-content>
          <p class="title-card">Data do Pedido</p>
          <p>Aguardando...</p>
        </mat-card-content>
      </mat-card>
      
    </div>
    <div class="card">
      <mat-card class="card-width">
        <mat-card-content>
          <p class="title-card">Aumento PTO</p>
          <p>Aguardando...</p>
        </mat-card-content>
      </mat-card>
  
      <mat-card class="card-width">
        <mat-card-content>
          <p class="title-card">Aumento Reais</p>
          <p>Aguardando...</p>
        </mat-card-content>
      </mat-card>
  
      <mat-card class="card-width">
        <mat-card-content>
          <p class="title-card">Limite Atual</p>
          <p>Aguardando...</p>
        </mat-card-content>
      </mat-card>
  
      <mat-card class="card-width">
        <mat-card-content>
          <p class="title-card">Qtde Vale Pontos</p>
          <p>Aguardando...</p>
        </mat-card-content>
      </mat-card>
  
      <mat-card class="card-width">
        <mat-card-content>
          <p class="title-card">Ação</p>
          <p>Aguardando...</p>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

<div *ngFor="let clickedRow of clickedRows">
  <div class="card">
    <mat-card class="card-width">
      <mat-card-content>
        <p class="title-card">Nº do Pedido</p>
        <p>{{clickedRow.numero_pedido}}</p>
        <p *ngIf="clickedRow.numero_pedido===null">---</p>
      </mat-card-content>
    </mat-card>

    <mat-card class="card-width">
      <mat-card-content>
        <p class="title-card">Nº Nota Fiscal</p>
        <p>{{clickedRow.numero_nota_fiscal}}</p>
        <p *ngIf="clickedRow.numero_nota_fiscal===null">---</p>        
      </mat-card-content>
    </mat-card>

    <mat-card class="card-width">
      <mat-card-content>
        <p class="title-card">Código da CN</p>
        <p>{{clickedRow.codigo_cn}}</p>
        <p *ngIf="clickedRow.codigo_cn===null">---</p>   
      </mat-card-content>
    </mat-card>
    
    <mat-card class="card-width">
      <mat-card-content>
        <p class="title-card">Nome da CN</p>
        <p>{{clickedRow.nome_cn}}</p>
        <p *ngIf="clickedRow.nome_cn===null">---</p>   
      </mat-card-content>
    </mat-card>

    <mat-card class="card-width">
      <mat-card-content>
        <p class="title-card">Data do Pedido</p>
        <p>{{clickedRow.data  | date : 'dd/MM/yyyy'}}</p>
        <p *ngIf="clickedRow.data===null">---</p>   
      </mat-card-content>
    </mat-card>
    
  </div>
  <div class="card">
    <mat-card class="card-width">
      <mat-card-content>
        <p class="title-card">Aumento PTO</p>
        <p>{{clickedRow.aumento_pto}}</p>
        <p *ngIf="clickedRow.aumento_pto===null">---</p>   
      </mat-card-content>
    </mat-card>

    <mat-card class="card-width">
      <mat-card-content>
        <p class="title-card">Aumento Reais</p>
        <p>{{clickedRow.aumento_reais  | currency : 'BRL'}}</p>
        <p *ngIf="clickedRow.aumento_reais===null">---</p>  
      </mat-card-content>
    </mat-card>

    <mat-card class="card-width">
      <mat-card-content>
        <p class="title-card">Limite Atual</p>
        <p>{{clickedRow.limite_atual  | currency : 'BRL'}}</p>
        <p *ngIf="clickedRow.limite_atual===null">---</p>  
      </mat-card-content>
    </mat-card>

    <mat-card class="card-width">
      <mat-card-content>
        <p class="title-card">Qtde Vale Pontos</p>
        <p>{{clickedRow.qtde_vale_pontos}}</p>
        <p *ngIf="clickedRow.qtde_vale_pontos===null">---</p>
      </mat-card-content>
    </mat-card>

    <mat-card class="card-width">
      <mat-card-content>
        <p class="title-card">Ação</p>
        <p>{{clickedRow.acao}}</p>
        <p *ngIf="clickedRow.acao.length===0">---</p>
      </mat-card-content>
    </mat-card>
  </div>
</div>

  
  

  <div class="container">

    <table mat-table *ngIf="pesquisa_efetuada===true" [dataSource]="dataSource" class="mat-elevation-z8 demo-table">

        <ng-container matColumnDef="numero_pedido">
          <th mat-header-cell *matHeaderCellDef> Nº Pedido </th>
          <td mat-cell *matCellDef="let element"> {{element.numero_pedido}} </td>
        </ng-container>
      
        <ng-container matColumnDef="codigo_cn">
          <th mat-header-cell *matHeaderCellDef> Código da CN </th>
          <td mat-cell *matCellDef="let element"> {{element.codigo_cn}} </td>
        </ng-container>
      
        <ng-container matColumnDef="nome_cn">
          <th mat-header-cell *matHeaderCellDef> Nome da CN </th>
          <td mat-cell *matCellDef="let element"> {{element.nome_cn}} </td>
        </ng-container>
      
        <ng-container matColumnDef="data">
          <th mat-header-cell *matHeaderCellDef> Data do Pedido </th>
          <td mat-cell *matCellDef="let element"> {{element.data | date : 'dd/MM/yyyy'}} </td>
        </ng-container>

        <ng-container matColumnDef="numero_nota_fiscal">
          <th mat-header-cell *matHeaderCellDef> Nº Nota Fiscal </th>
          <td mat-cell *matCellDef="let element"> {{element.numero_nota_fiscal}} </td>
        </ng-container>

        <ng-container matColumnDef="aumento_pto">
          <th mat-header-cell *matHeaderCellDef> Aumento PTO </th>
          <td mat-cell *matCellDef="let element"> {{element.aumento_pto}} </td>
        </ng-container>

        <ng-container matColumnDef="aumento_reais">
          <th mat-header-cell *matHeaderCellDef> Aumento Reais </th>
          <td mat-cell *matCellDef="let element"> {{element.aumento_reais | currency : 'BRL'}} </td>
        </ng-container>

        <ng-container matColumnDef="limite_atual">
          <th mat-header-cell *matHeaderCellDef> Limite Atual </th>
          <td mat-cell *matCellDef="let element"> {{element.limite_atual | currency : 'BRL'}} </td>
        </ng-container>

        <ng-container matColumnDef="qtde_vale_pontos">
          <th mat-header-cell *matHeaderCellDef> Qtde Vale Pontos </th>
          <td mat-cell *matCellDef="let element"> {{element.qtde_vale_pontos}} </td>
        </ng-container>

        <ng-container matColumnDef="acao">
          <th mat-header-cell *matHeaderCellDef> Ação </th>
          <td mat-cell *matCellDef="let element"> {{element.acao}} </td>
        </ng-container>
      
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
            mat-row
            (click)="clickedRows.clear()"
            (click)="clickedRows.add(row)"
            [class.demo-row-is-clicked]="clickedRows.has(row)"
            *matRowDef="let row; columns: displayedColumns;"
        ></tr>
      </table>
</div>

   
  
  </div>
  


